# Типы

В предыдущей главе мы использовали строковый тип данных, чтобы хранить `Hello World`. Типы данных определяют множество принимаемых значений, описывают, какие операции могут быть применены к ним, и определяют, как данные будут храниться. Поскольку типы данных могут быть сложны для понимания, мы попробуем рассмотреть их подробнее, прежде чем разбираться, как они реализованы в Vala.

Предположим, у вас есть собака по имени Шарик. Тут «Шарик» — это «Собака», этот тип описывает какой-то набор свойств, присущий всем собакам. Наши рассуждения должны быть примерно следующие: у собак 4 лапы, Шарик — собака, значит, у Шарика 4 лапы. Типы данных в языках программирования работают похожим образом: у всех строк есть длина; `x` — строка, а значит у `x` есть длина.

В математике мы часто говорим о множествах. Например, `ℝ` \(множество всех вещественных чисел\) или `ℕ` \(множество всех натуральных чисел\). Каждый элемент этих множеств имеет такие же свойства, как и все прочие элементы этого множества. Например, все натуральные числа ассоциативны - «для всех натуральных чисел a, b и c выполняется: `a + (b + c) = (a + b) + c` и `a × (b × c) = (a × b) × c`»; в этом смысле множества схожи с типами данных в языках программирования тем, что все значения одного типа имеют общие свойства.

Vala — это язык программирования со статической типизацией. Это означает, что переменные всегда имеют определенный тип и этот тип нельзя изменить. Статическая типизация, на первый взгляд, может показаться неудобной. Однако типы дают вам возможность понять, что именно делает программа, и помогают избежать распространённых ошибок.

В Vala есть несколько встроенных типов данных, с которыми мы сейчас ознакомимся.

## Числа

В Go есть несколько различных типов для представления чисел. Вообще, мы разделим числа на два различных класса: целые числа и числа с плавающей точкой.

### Целые числа

Целые числа, точно так же, как их математические коллеги, — это числа без вещественной части. В отличие от десятичного представления чисел, которое используем мы, компьютеры используют двоичное представление.

Наша система строится на 10 различных цифрах. Когда мы исчерпываем доступные нам цифры, мы представляем большое число, используя новую цифру 2 \(а затем 3, 4, 5, …\) числа следуют одно за другим. Например, число, следующее за 9, это 10, число, следующее за 99, это 100 и так далее. Компьютеры делают то же самое, но они имеют только 2 цифры вместо 10. Поэтому, подсчет выглядит так: 0, 1, 10, 11, 100, 101, 110, 111 и так далее. Другое отличие между той системой счисления, что используем мы, и той, что использует компьютер - все типы чисел имеют строго определенный размер. У них есть ограниченное количество цифр. Поэтому четырехразрядное число может выглядеть так: 0000, 0001, 0010, 0011, 0100. В конце концов мы можем выйти за лимит, и большинство компьютеров просто вернутся к самому началу \(что может стать причиной очень странного поведения программы\).

В Go существуют следующие типы целых чисел: `uint8`, `uint16`, `uint32`, `uint64`, `int8`, `int16`, `int32` и `int64`. 8, 16, 32 и 64 говорит нам, сколько бит использует каждый тип. `uint` означает «unsigned integer» \(беззнаковое целое\), в то время как `int` означает «signed integer» \(знаковое целое\). Беззнаковое целое может принимать только положительные значения \(или ноль\). В дополнение к этому существуют два типа-псевдонима: `byte` \(то же самое, что `uint8`\) и `rune` \(то же самое, что `int32`\). Байты — очень распространенная единица измерения в компьютерах \(1 байт = 8 бит, 1024 байта = 1 килобайт, 1024 килобайта = 1 мегабайт, …\), и именно поэтому тип `byte` в Go часто используется для определения других типов. Также существует 3 машинно-зависимых целочисленных типа: `uint`, `int` и `uintptr`. Они машинно-зависимы, потому что их размер зависит от архитектуры используемого компьютера.

В общем, если вы работаете с целыми числами — просто используйте тип `int`.

### Числа с плавающей точкой

Числа с плавающей точкой — это числа, которые содержат вещественную часть \(вещественные числа\) \(1.234, 123.4, 0.00001234, 12340000\). Их представление в компьютере довольно сложно и не особо необходимо для их использования. Так что мы просто должны помнить:

* Числа с плавающей точкой неточны. Бывают случаи, когда число вообще нельзя представить. Например, результатом вычисления `1.01 - 0.99` будет `0.020000000000000018` - число очень близкое к ожидаемому, но не то же самое.
* Как и целые числа, числа с плавающей точкой имеют определенный размер \(32 бита или 64 бита\). Использование большего размера увеличивает точность \(сколько цифр мы можем использовать для вычисления\)
* В дополнение к числам существуют несколько других значений, таких как: «not a number» \(не число\) \(`NaN`, для вещей наподобие `0/0`\), а также положительная и отрицательная бесконечность \(`+∞` и `−∞`\).

В Vala есть два вещественных типа: `float` и `double` \(соответственно, часто называемые вещественными числами с одинарной и двойной точностью\). Для работы с комплексными числами воспользуйтесь библиотекой [GSL](https://valadoc.org/gsl/Gsl.Complex.html). Как правило, мы должны придерживаться типа `double`, когда работаем с числами с плавающей точкой.

Обратите внимание, что мы используем `.0`, чтобы сказать Go, что это число с плавающей точкой, а не целое. При выполнении этой программы результат будет тот же, что и прежде.

В дополнение к сложению, в Go имеется несколько других операций:

| Литерал | Пояснение |
| :--- | :--- |
| + | сложение |
| - | вычитание |
| \* | умножение |
| / | деление |
| % | остаток от деления |

### Строки

Как мы видели в главе 2, строка — это последовательность символов определенной длины, используемая для представления текста. Строки в Vala состоят из независимых байтов, обычно по одному на каждый символ \(символы из других языков, таких как китайский, представляются несколькими байтами\).

Строковые литералы могут быть созданы с помощью двойных кавычек `"Hello World"` или с помощью апострофов ```Hello World```. Различие между ними в том, что строки в двойных кавычках не могут содержать новые строки и они позволяют использовать особые управляющие последовательности символов. Например, `\n` будет заменена символом новой строки, а `\t` - символом табуляции.

Распространенные операции над строками включают в себя нахождение длины строки `len("Hello World")`, доступ к отдельному символу в строке `"Hello World"[1]`, и конкатенацию двух строк `"Hello " + "World"`. Давайте модифицируем созданную ранее программу, чтобы проверить всё это:

